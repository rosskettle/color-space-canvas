<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>color</title>
        <style>
            .color-space {
              float:left;
              width:260px;
            }
            #color-block {
              width:100px;
              height:100px;
              border:1px solid black;
            }
        </style>

    </head>
    <body>
      <script src="main.js"></script>
      <script src="shaders.js"></script>


      h <input name="axes" type="radio" value="sv" checked/>
      <input id="h" name="h" type="number" value="0" min="0" max="359" step="1"/><br/>

      s <input name="axes" type="radio" value="hv"/>
      <input id="s" name="s" type="number" value="50" min="0" max="100" step="1"/><br/>

      v <input name="axes" type="radio" value="hs"/>
      <input id="v" name="v" type="number" value="50" min="0" max="100" step="1"/><br/>
      <div id="color-block">
      </div>


      <div class="color-space">
        <canvas id="lch-bar-canvas" width="256" height="20"></canvas>
        <canvas id="lch-rect-canvas" width="256" height="256"></canvas>
      </div>

      <div class="color-space">

        <canvas id="bar-canvas" width="256" height="20"></canvas>
        <br/>
        <canvas id="rect-canvas" width="256" height="256"></canvas>
      </div>

      <div class="color-space">
        <canvas id="hsv-bar-canvas" width="256" height="20">
        </canvas>
        <br/>
        <canvas id="hsv-rect-canvas" width="256" height="256">
        </canvas>
      </div>
      <div class="color-space">
        <canvas id="hsl-bar-canvas" width="256" height="20">
        </canvas>
        <br/>
        <canvas id="hsl-rect-canvas" width="256" height="256">
        </canvas>
      </div>

      <div class="color-space">

      <canvas id="lab-rect-canvas" width="256" height="20">
      </canvas>
      <br/>
      <canvas id="lab-bar-canvas" width="256" height="256">
      </canvas>
      </div>
      <script>

      var radioChange = function (e) {

        hsvrect.setProps({axes :e.target.value})
        switch (e.target.value) {
          case 'sv' :
            hsvbar.setProps({axes :'h'})
            break;
          case 'hv' :
            hsvbar.setProps({axes :'s'})
            break;
          case 'hs' :
            hsvbar.setProps({axes :'v'})
            break;
        }

      }

      var radios = document.getElementsByName('axes');
      radios[0].onchange = radioChange
      radios[1].onchange = radioChange
      radios[2].onchange = radioChange

      var inputH = document.getElementById('h');
      var inputS = document.getElementById('s');
      var inputV = document.getElementById('v');

      var colorBlock = document.getElementById('color-block');

      var updateColorValues = function() {
        var cols = [parseFloat(inputH.value), parseFloat(inputS.value), parseFloat(inputV.value)]
        hsvrect.setProps({colorValues: cols})
        hsvbar.setProps({colorValues: cols})
        cssHSVString = 'hsl(' + cols[0] + ',' + cols[1] + '%,' + cols[2] + '%)'
        colorBlock.style.backgroundColor = cssHSVString;
      }

      inputH.onchange = updateColorValues;
      inputS.onchange = updateColorValues;
      inputV.onchange = updateColorValues;

      var hsvrect = new ColorSpaceCanvas({colorSpace:'hsv', colorValues:[90,1,1], axes:'hs'},document.getElementById('hsv-rect-canvas'));
      var hsvbar = new ColorSpaceCanvas({colorSpace:'hsv', colorValues:[180,.2,.4], axes:'h'},document.getElementById('hsv-bar-canvas'));

      //var hslrect = new ColorSpaceCanvas({colorSpace:'hsl', colorValues:[180,20,40], axes:'hs'},document.getElementById('hsl-rect-canvas'));
      //var hslbar = new ColorSpaceCanvas({colorSpace:'hsl', colorValues:[180,20,40], axes:'hs'},document.getElementById('hsl-bar-canvas'));


      //var lchrect = new ColorSpaceCanvas({colorSpace:'lch', colorValues:[20,90,20], axes:'lh'},document.getElementById('lch-rect-canvas'));
      //var lchbar = new ColorSpaceCanvas({colorSpace:'lch', colorValues:[50,70,0], axes:'ch'},document.getElementById('lch-bar-canvas'));


      //var rect = new ColorSpaceCanvas({colorSpace:'rgb', colorValues:[0,0,0], axes:'gb'},document.getElementById('rect-canvas'));
      //var bar = new ColorSpaceCanvas({colorSpace:'rgb', colorValues:[0,0,0], axes:'r'},document.getElementById('bar-canvas'));

      //var labrect = new ColorSpaceCanvas({colorSpace:'lab', colorValues:[0,0,0], axes:'ab'},document.getElementById('lab-rect-canvas'));
      //var labbar = new ColorSpaceCanvas({colorSpace:'lab', colorValues:[0,0,0], axes:'lb'},document.getElementById('lab-bar-canvas'));


      </script>

</body>
</html>
